---
title: Linux常见问题
date: 2021-08-30 20:25:51
permalink: /pages/086431/
categories:
  - 百科
  - 技术文档
tags:
  - 
---
## 1./usr/bin/dpkg returned an error code (1)
### 解决dpkg错误
```bash
cd /var/lib/dpkg
sudo mv info info.baksudo
mkdir info
```

## 2.添加用户名和添加sudo
### 添加用户名
```bash
sudo useradd -m -d /data/username -s /bin/zsh username
```
### 修改密码
```bash
sudo passwd username
```
### 添加sudoers
```bash
vi /etc/sudoers
#添加用户
username    ALL=(ALL:ALL) ALL
```
## 3.Ubuntu安装Linux开发包
```bash
sudo apt-get install build-essential
```

## 4.Python 相关错误
### 4.1 Python ImportError: No module named _bz2
```bash
sudo apt-get install libbz2-dev
#重新编译Python
```
### 4.1 ImportError: Missing optional dependency 'openpyxl'
```bash
pip install openpyxl
#重新编译Python
```

## 5.安装Mongodb
#### （1）导入公匙
```bash
wget -qO - https://www.mongodb.org/static/pgp/server-5.0.asc | sudo apt-key add -
```
#### （2）创建mongodb列表文件
```bash
echo "deb [ arch=amd64,arm64 ] https://repo.mongodb.org/apt/ubuntu bionic/mongodb-org/5.0 multiverse" | sudo tee /etc/apt/sources.list.d/mongodb-org-5.0.list
```
#### （3）重新加载包数据
```bash
sudo apt-get update
```
#### （4）重新加载包数据
```bash
sudo apt-get install -y mongodb-org=5.0.2 mongodb-org-database=5.0.2 mongodb-org-server=5.0.2 mongodb-org-shell=5.0.2 mongodb-org-mongos=5.0.2 mongodb-org-tools=5.0.2
```
#### （5）服务启动
```bash
sudo systemctl start mongod
```

## 6.修改Mongodb配置，添加用户
#### （1）修改配置
```bash
sudo vim /etc/mongod.conf
```
#### （2）连接Mongodb
```bash
echo "deb [ arch=amd64,arm64 ] https://repo.mongodb.org/apt/ubuntu bionic/mongodb-org/5.0 multiverse" | sudo tee /etc/apt/sources.list.d/mongodb-org-5.0.list
```
#### （3）重新加载包数据
```bash
use Production
db.createUser(
   {
     user: "production",
     pwd: "production@123",  // passwordPrompt() Or  "<cleartext password>"
     roles: [ "readWrite", "dbAdmin" ]
   }
)
```
#### （4）登录
```bash
db.auth("production")
```
